<?xml version="1.0" ?>

<launch> 
  <arg name="is_rviz_on" default = "true"/>
  <arg name="planner" default = "ompl"/>
  
  <!-- PARAMS -->
  <param name="is_rviz_on" value="$(arg is_rviz_on)"/>
  <param name="planner" value="$(arg planner)"/>



  <!-- Launch Gazebo  --> 
  <include file="$(find ur5e_2FG7_gazebo)/launch/gazebo.launch" />    

  <!-- Load joint controller configurations from YAML file to parameter server -->
  <rosparam file="$(find ur5e_2FG7_gazebo)/config/ur5e_2FG7_gazebo_trajectory_control.yaml" command="load"/>
 

 	<node name="ur5e_2FG7_joint_state_spawner" pkg="controller_manager" type="spawner" respawn="false" output="screen"
     args="joint_state_controller arm_controller gripper_controller"/>
  

  

  <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" respawn="false" output="screen">
    <param name="ignore_timestamp" value="true" />
  </node>


  <include file="$(find ur5e_2FG7_moveit_config)/launch/move_group.launch">
    <arg name="publish_monitored_planning_scene" value="true" />
    <arg name="moveit_controller_manager" value="ur5e_2FG7" />
    <arg name="pipeline" value="$(arg planner)" />
  </include>

  <group if="$(arg is_rviz_on)">
    <include file="$(find ur5e_2FG7_moveit_config)/launch/moveit_rviz.launch">
      <arg name="rviz_config" value="$(find ur5e_2FG7_moveit_config)/launch/moveit.rviz"/>
    </include>
  </group>



</launch> 
